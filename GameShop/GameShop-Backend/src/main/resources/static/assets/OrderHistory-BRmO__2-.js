import{_ as E,o as a,c as g,w as t,a as I,d as i,e,r as o,f as s,t as c,F as w,g as C,h as M,s as P,p as O,k as Q,b as R}from"./index-DLXFZswJ.js";const Y=M({name:"OrderHistory",setup(){const r=P(),n=R(),_=O(!1),u=O(""),k=async()=>{try{_.value=!0,await r.fetchOrders(),r.orders.length||(u.value="No orders found for your account.")}catch{u.value="Failed to fetch orders. Please try again."}finally{_.value=!1}},b=()=>{n.push({name:"Catalog"})},f=l=>{n.push({name:"OrderDetails",params:{trackingNumber:l}})},m=l=>{const v=new Date(l),y={year:"numeric",month:"long",day:"numeric"};return v.toLocaleDateString(void 0,y)};return Q(()=>{k()}),{orderStore:r,loading:_,error:u,goToCatalog:b,viewOrder:f,formatDate:m}}}),z={key:0},A={key:1},G={key:2},J={key:3};function K(r,n,_,u,k,b){const f=o("v-progress-circular"),m=o("v-alert"),l=o("v-btn"),v=o("v-icon"),y=o("v-card-title"),D=o("v-card-subtitle"),N=o("v-divider"),S=o("v-list-item-title"),h=o("v-list-item-subtitle"),$=o("v-list-item-content"),B=o("v-list-item"),F=o("v-list"),V=o("v-card-text"),T=o("v-card-actions"),H=o("v-card"),L=o("v-col"),j=o("v-row"),q=o("v-container");return a(),g(q,null,{default:t(()=>[n[5]||(n[5]=I("h1",null,"Your Orders",-1)),r.loading?(a(),i("div",z,[e(f,{indeterminate:"",color:"primary"})])):r.error?(a(),i("div",A,[e(m,{type:"error"},{default:t(()=>[s(c(r.error),1)]),_:1})])):r.orderStore.orders.length?(a(),i("div",J,[e(j,null,{default:t(()=>[(a(!0),i(w,null,C(r.orderStore.orders,d=>(a(),g(L,{cols:"12",md:"6",key:d.trackingNumber},{default:t(()=>[e(H,{class:"mb-4"},{default:t(()=>[e(y,null,{default:t(()=>[e(v,{class:"mr-2"},{default:t(()=>n[2]||(n[2]=[s("mdi-truck")])),_:1}),s(" Order #"+c(d.trackingNumber),1)]),_:2},1024),e(D,null,{default:t(()=>[e(v,{class:"mr-2"},{default:t(()=>n[3]||(n[3]=[s("mdi-calendar")])),_:1}),s(" "+c(r.formatDate(d.orderDate)),1)]),_:2},1024),e(N),e(V,null,{default:t(()=>[e(F,{dense:""},{default:t(()=>[(a(!0),i(w,null,C(d.games,(p,x)=>(a(),g(B,{key:x},{default:t(()=>[e($,null,{default:t(()=>[e(S,null,{default:t(()=>[s(c(p.title),1)]),_:2},1024),e(h,null,{default:t(()=>[s(" Quantity: "+c(p.quantity)+" - $"+c(p.price.toFixed(2))+" each ",1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:2},1024)]),_:2},1024),e(T,{class:"justify-space-between"},{default:t(()=>[e(l,{color:"primary",text:"",onClick:p=>r.viewOrder(d.trackingNumber)},{default:t(()=>n[4]||(n[4]=[s(" View Details ")])),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})])):(a(),i("div",G,[e(m,{type:"info"},{default:t(()=>n[0]||(n[0]=[s("No orders found for your account.")])),_:1}),e(l,{color:"primary",onClick:r.goToCatalog},{default:t(()=>n[1]||(n[1]=[s("Start Shopping")])),_:1},8,["onClick"])]))]),_:1})}const W=E(Y,[["render",K],["__scopeId","data-v-a5f3c523"]]);export{W as default};
